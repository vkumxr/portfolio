<!doctype html>
<html lang="en" class="light">
<head>
   <meta property="og:image" content="https://vkumxr.github.io/portfolio/thumbnail.png">
<meta property="og:title" content="Vishwa Kumar – Portfolio">
<meta property="og:description" content="My projects, skills, and work.">

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vishwa — Portfolio</title>
<meta name="color-scheme" content="light dark" />
<style>
/* =========================
   THEME + GLASS VARIABLES
   ========================= */

html.light .github-icon path {
  fill: #000 !important;   /* black in light mode */
}
html:not(.light) .github-icon path {
  fill: #fff !important;   /* white in dark mode */
}


/* Fix readability for Connect section in LIGHT mode */
html.light .connect-item span {
  color: #000 !important;
}

html.light .connect-item svg {
  filter: none !important; /* keeps icons crisp */
}



:root{
  --bg-dark:#0c0c0c; --card-dark:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  --text-dark:#e6e6e6; --muted-dark:#b5b5b5; --border-dark:rgba(255,255,255,0.06);
  --shadow-dark:rgba(0,0,0,0.6);

  --bg-light:#f2f2f2; --card-light:linear-gradient(135deg, rgba(255,255,255,0.6), rgba(255,255,255,0.45));
  --text-light:#111; --muted-light:#555; --border-light:rgba(255,255,255,0.6);
  --shadow-light:rgba(20,20,20,0.06);

  /* Liquid glass tuning */
  --glass-blur: 10px;            /* backdrop-filter blur amount */
  --glass-tint: rgba(255,255,255,0.08); /* subtle tint over the blur */
  --glass-border: rgba(255,255,255,0.18); /* thin glass edge */
  --glass-inner: rgba(255,255,255,0.06); /* inner highlight */
  --glass-shadow: 0 10px 30px rgba(10,10,10,0.2);
  --glass-accent: linear-gradient(180deg, rgba(255,255,255,0.16), rgba(255,255,255,0.02));
  --glass-glow: 0 6px 30px rgba(0,140,255,0.08);
}

html.light {
  --bg:var(--bg-light); --card:var(--card-light); --text:var(--text-light);
  --muted:var(--muted-light); --border:var(--border-light); --shadow:var(--shadow-light);
}
/* ===========================================
   FORCE MONOCHROME SOCIAL ICONS (LIGHT / DARK)
   =========================================== */

/* Light mode → icons become BLACK */
html.light .header-icons svg path,
html.light .connect-item svg path {
  fill: #000 !important;
}

/* Dark mode → icons become WHITE */
html:not(.light) .header-icons svg path,
html:not(.light) .connect-item svg path {
  fill: #fff !important;
}

/* Remove LinkedIn default blue & Gmail colors */
.header-icons svg path,
.connect-links svg path {
  fill: currentColor !important;
}

html:not(.light) {
  --bg:var(--bg-dark); --card:var(--card-dark); --text:var(--text-dark);
  --muted:var(--muted-dark); --border:var(--border-dark); --shadow:var(--shadow-dark);
}

/* fallback for older browsers / reduced transparency */
@supports (backdrop-filter: blur(0)) or (-webkit-backdrop-filter: blur(0)) {
  .glass, .liquid-glass { backdrop-filter: blur(var(--glass-blur)); -webkit-backdrop-filter: blur(var(--glass-blur)); }
}

@media (prefers-reduced-transparency: reduce) {
  :root { --glass-blur: 0px; --glass-tint: rgba(0,0,0,0.03); }
}

html { scroll-behavior: smooth; }
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:Inter, system-ui, sans-serif; -webkit-font-smoothing:antialiased;
}

/* subtle animated sheen used across elements */
@keyframes sheen {
  0%{ transform: translateX(-120%); opacity:0 }
  30%{ opacity:0.35 }
  60%{ opacity:0.12 }
  100%{ transform: translateX(120%); opacity:0 }
}

/* =========================
   BACKDROP GRID (DESKTOP)
   ========================= */
.grid{
  position:fixed; inset:0; pointer-events:none; z-index:0;
  background-image:
    linear-gradient(to right, rgba(255,255,255,0.02) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size:70px 70px; opacity:0.06;
}

/* WRAPPER */
.wrap{ max-width:1100px; margin:0 auto; padding:20px; position:relative; z-index:2; }

/* apply glass base to panels */
.glass{
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow), var(--glass-glow);
  border-radius: 12px;
  position:relative; overflow: hidden;
}
.glass::before{ /* soft inner highlight */
  content:""; position:absolute; inset:0; pointer-events:none;
  background: var(--glass-accent);
  mix-blend-mode: overlay; opacity:0.9;
}
.glass::after{ /* moving sheen */
  content:""; position:absolute; top:-20%; left:-40%; width:60%; height:140%;
  transform:translateX(-120%) rotate(-12deg); background: linear-gradient(90deg, rgba(255,255,255,0.12), rgba(255,255,255,0.02), rgba(255,255,255,0));
  filter: blur(8px); opacity:0; animation: sheen 5.8s ease-in-out infinite; mix-blend-mode: screen;
}

/* =========================
   HEADER
   ========================= */
.header{ display:flex; justify-content:space-between; align-items:center; gap:12px; }
.header-icons{ display:flex; gap:12px; align-items:center; }
.header-icons a { display:inline-flex; align-items:center; justify-content:center; text-decoration:none; }
.header-icons svg { width:26px; height:26px; display:block; filter: drop-shadow(0 2px 6px rgba(0,0,0,0.12)); }

.toggle-button{
  width:46px;height:26px;border-radius:999px;border:1px solid rgba(255,255,255,0.08);
  background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));padding:3px;display:flex;align-items:center;cursor:pointer;
  transition:all .22s ease; box-shadow: inset 0 1px 0 rgba(255,255,255,0.04), 0 6px 18px rgba(0,0,0,0.08);
}
.knob{ width:20px;height:20px;border-radius:50%;background:linear-gradient(180deg,#ffffff,#f0f0f0);transition:.22s;box-shadow:0 6px 18px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.6); }
html.light .knob{ transform:translateX(0); }
html:not(.light) .knob{ transform:translateX(20px); background:linear-gradient(180deg,#2e2e2e,#191919); }

/* NAV */
/* --- Liquid Glass Hover Refraction + Droplet Effect --- */
.nav-pill{ padding:8px 14px; border-radius:12px; color:var(--muted); text-decoration:none; white-space:nowrap; border:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.02); box-shadow:inset 0 1px 0 rgba(255,255,255,0.02); display:flex; align-items:center; justify-content:center; }

.nav-pill::after{
  content:"";
  position:absolute;
  top:50%; left:50%;
  width:0; height:0;
  transform:translate(-50%,-50%);
  background:radial-gradient(circle, rgba(255,255,255,0.45) 0%, rgba(255,255,255,0.15) 40%, rgba(255,255,255,0) 70%);
  border-radius:50%;
  opacity:0;
  transition:opacity .25s ease, width .35s ease, height .35s ease;
  filter:blur(6px);
  mix-blend-mode:screen;
}

.nav-pill:hover::after{
  width:180%;
  height:180%;
  opacity:0.55;
}

/* subtle refractive lift */
.nav-pill:hover{
  transform: translateY(-3px) scale(1.025);
  box-shadow: 0 8px 24px rgba(255,255,255,0.12), inset 0 1px 2px rgba(255,255,255,0.2);
}
.nav-center{ display:flex; justify-content:center; gap:16px; margin-top:12px; }
.nav-pill{ padding:8px 14px;border-radius:12px; color:var(--muted); text-decoration:none; white-space:nowrap;
  border: 1px solid rgba(255,255,255,0.06); background: rgba(255,255,255,0.02); box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
}
.nav-pill:hover{ color:var(--text); transform: translateY(-3px); }

/* HERO */
.hero{ display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:20px; margin-top:30px; }
.hero-left h1{ font-size:48px; margin:0; line-height:1.02; }
.hero-left p{ color:var(--muted); margin-top:6px; }
.btn-main{ margin-top:12px; padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.08); text-decoration:none;color:var(--text); display:inline-block; }
.btn-main:hover{ transform: translateY(-4px); }

/* PROFILE */
.profile-card{ width:230px; height:230px; border-radius:50%; padding:12px; border:1px solid rgba(255,255,255,0.08); display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01)); box-shadow:0 20px 50px rgba(0,0,0,0.18); }
.profile-card img{ width:186px; height:186px; border-radius:50%; border:4px solid rgba(255,255,255,0.18); object-fit:cover; }

/* SECTIONS */
section{ margin-top:55px; }
h2{text-align:center; margin-bottom:20px;}

/* DESKTOP MARQUEE */
.projects-viewport{ overflow:hidden; padding:20px 0; }
.projects-track{ display:flex; gap:18px; animation:scroll 26s linear infinite; }
@keyframes scroll{ 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }
.projects-track.paused{ animation-play-state:paused; }

/* PROJECT CARD (glass) */
.project-card{
  min-width:300px; padding:18px; border-radius:14px; transition:transform .18s, box-shadow .18s; display:block; color:var(--text); text-decoration:none;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); border:1px solid rgba(255,255,255,0.08);
  box-shadow: 0 12px 40px rgba(6,12,20,0.22), inset 0 1px 0 rgba(255,255,255,0.04);
  backdrop-filter: blur(var(--glass-blur)); -webkit-backdrop-filter: blur(var(--glass-blur));
}
.project-card:hover{ transform:translateY(-6px) scale(1.01); box-shadow: 0 24px 60px rgba(6,12,20,0.32); }
.project-card h3{ margin:0 0 6px; } .project-card small{ color:var(--muted); } .project-card p{ color:var(--muted); margin-top:6px; }

/* ABOUT + CONNECT */
.about-box{ max-width:800px; margin:0 auto; padding:20px; border-radius:12px; color:var(--muted); line-height:1.6; }
.about-box.glass{ padding:26px; }

.connect-links{ display:flex; justify-content:center; gap:20px; flex-wrap:wrap; }
.connect-item{ display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; text-decoration:none; }
.connect-item svg{ width:22px; height:22px; }

/* FOOTER */
footer{ text-align:center; color:var(--muted); margin-top:40px; padding:20px 0; }

/* FADE */
.fade-up{ opacity:0; transform:translateY(10px); transition:.55s; } .fade-up.in{ opacity:1; transform:translateY(0); }

/* =========================
   MOBILE
   ========================= */
@media (max-width:768px){
  .grid{ opacity:0; }
  .nav-center{ overflow-x:auto; white-space:nowrap; padding-bottom:6px; gap:10px; }

  .hero{ flex-direction:column; text-align:center; align-items:center; margin-top:12px; }
  .hero-left h1{ font-size:32px; } .hero-left p{ font-size:15px; }

  .profile-card{ width:170px; height:170px; margin-top:8px; } .profile-card img{ width:132px;height:132px; }

  .project-card{ position:relative; width:94%; max-width:420px; border-radius:12px; padding:22px 20px; min-height:170px; }
  .project-card h3{ font-size:18px; } .project-card p,.project-card small{ font-size:14px; }

  .about-box{ padding:16px; font-size:15px; }
  .connect-links{ flex-direction:column; align-items:center; } .connect-item{ width:90%; justify-content:center; }

  /* MOBILE DECK (new) */
  .mobile-deck{ display:block; margin:14px 0; position:relative; }
  .mobile-deck .viewport{ overflow:hidden; border-radius:12px; }
  .mobile-deck .track{ display:flex; transition:transform .32s cubic-bezier(.2,.9,.2,1); }
  .mobile-deck .slide{ min-width:100%; box-sizing:border-box; padding:16px; }
  .mobile-deck .slide .project-card{ width:100%; box-shadow: 0 10px 30px rgba(0,0,0,0.18); }

  .mobile-controls{ display:flex; justify-content:center; gap:10px; align-items:center; margin-top:8px; }
  .mobile-dot{ width:8px; height:8px; border-radius:50%; background:rgba(255,255,255,0.18); }
  .mobile-dot.active{ background:var(--text); }
  .mobile-arrow{ background:transparent; border: none; padding:8px; border-radius:10px; display:flex; align-items:center; justify-content:center; }
  .mobile-arrow svg{ width:18px; height:18px; }
}
/* GLOBAL LIQUID GLASS FILTER */
svg#liquidFilters{position:absolute;width:0;height:0;}

/* Apply real optical refraction */
.liquid-glass::before{
  content:""; position:absolute; inset:0; z-index:-1;
  filter:url(#liquid);
  opacity:0.35;
}
</style>
<svg id="liquidFilters">
  <filter id="liquid">
    <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="3" result="turb"/>
    <feDisplacementMap in="SourceGraphic" in2="turb" scale="16"/>
  </filter>
</svg>
</head>
<body>

<div class="grid" aria-hidden="true"></div>
<div class="wrap">

  <!-- HEADER -->
  <div class="header">
    <div class="header-icons" aria-hidden="false">
      <!-- GitHub -->
      <a href="https://github.com/vkumxr" target="_blank" aria-label="GitHub" class="glass" style="padding:6px; border-radius:10px;">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="currentColor" d="M12 .296a12 12 0 00-3.797 23.402c.6.111.82-.26.82-.577 0-.285-.011-1.041-.017-2.042-3.338.725-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.757-1.333-1.757-1.09-.745.082-.73.082-.73 1.205.085 1.84 1.237 1.84 1.237 1.07 1.834 2.809 1.304 3.495.997.108-.775.419-1.305.762-1.605-2.665-.303-5.466-1.332-5.466-5.93 0-1.31.468-2.381 1.236-3.221-.124-.303-.536-1.523.117-3.176 0 0 1.008-.322 3.301 1.23a11.5 11.5 0 016.004 0c2.292-1.552 3.299-1.23 3.299-1.23.655 1.653.243 2.873.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.61-2.803 5.624-5.475 5.92.43.372.815 1.102.815 2.222 0 1.605-.015 2.898-.015 3.293 0 .32.218.694.825.576A12 12 0 0012 .296z"/></svg>
      </a>

      <!-- LinkedIn -->
      <a href="https://www.linkedin.com/in/vishwakumarv/" target="_blank" aria-label="LinkedIn" class="glass" style="padding:6px; border-radius:10px;">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="#0A66C2" d="M20.447 20.452h-3.554v-5.569c0-1.328-.026-3.038-1.852-3.038-1.853 0-2.136 1.445-2.136 2.939v5.668H9.353V8.998h3.414v1.556h.049c.476-.9 1.635-1.85 3.365-1.85 3.6 0 4.268 2.37 4.268 5.456v6.292zM5.337 7.433a2.062 2.062 0 11-.001-4.125 2.062 2.062 0 01.001 4.125zM7.118 20.452H3.557V8.998h3.561v11.454zM22.225 0H1.771C.791 0 0 .774 0 1.729v20.542C0 23.226.792 24 1.771 24h20.451C23.206 24 24 23.226 24 22.271V1.729C24 .774 23.206 0 22.225 0z"/></svg>
      </a>

      <!-- Email -->
      <a href="mailto:vishwakumarv05@gmail.com" aria-label="Email" class="glass" style="padding:6px; border-radius:10px;">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="#EA4335" d="M12 13.065L1.2 6.3A2.4 2.4 0 013.6 4.8h16.8a2.4 2.4 0 012.4 1.5L12 13.065z"/><path fill="#D93025" d="M3.6 19.2h16.8a2.4 2.4 0 002.4-2.4V7.44L12 14.08 1.2 7.44V16.8a2.4 2.4 0 002.4 2.4z"/></svg>
      </a>
    </div>

    <div>
      <button id="themeToggle" class="toggle-button glass" aria-label="Toggle theme" title="Toggle theme">
        <div class="knob" role="presentation"></div>
      </button>
    </div>
  </div>

  <!-- NAV -->
  <nav class="nav-center" role="navigation" aria-label="Primary">
    <a class="nav-pill glass" href="#home">Home</a>
    <a class="nav-pill glass" href="#projects">Projects</a>
    <a class="nav-pill glass" href="#about">About</a>
    <a class="nav-pill glass" href="#connect">Connect</a>
    <a class="nav-pill glass" href="VISHWA-RESUME.pdf" target="_blank">Resume</a>
  </nav>

  <!-- HERO -->
  <section id="home" class="hero fade-up" aria-labelledby="home-title">
    <div class="hero-left">
      <h1 id="home-title">Vishwa Kumar Venkateswaran</h1>
      <p>ECE Student @ PSG Tech</p>
      <a class="btn-main glass" href="VISHWA-RESUME.pdf" target="_blank">View Resume</a>
    </div>

    <div class="profile-card glass" aria-hidden="false">
      <img src="https://files.catbox.moe/fbo71p.JPG" alt="Vishwa Kumar">
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="fade-up" aria-labelledby="about-title">
    <h2 id="about-title">About Me</h2>
    <div class="about-box glass" role="region">
      Electronics and Communication Engineering student at PSG College of Technology, Coimbatore, with strong long-term exposure to programming. Skilled in Java, C, C++, and Scratch, with working knowledge of Python, HTML, and SQL. Strong foundation in algorithms and problem-solving. Passionate about AI, cybersecurity, robotics, and automation — focused on building practical and impactful solutions.
    </div>
  </section>


  <!-- PROJECTS -->
  <section id="projects" class="fade-up" aria-labelledby="projects-title">
    <h2 id="projects-title">Projects</h2>

    <!-- MOBILE: Swipeable deck (visible on small screens) -->
    <div class="mobile-deck" id="mobileDeck" aria-hidden="false">
      <div class="viewport glass" id="mobileViewport" aria-label="Projects carousel">
        <div class="track" id="mobileTrack" role="list"></div>
      </div>
      <div class="mobile-controls" id="mobileControls" aria-hidden="false">
        <button class="mobile-arrow" id="prevBtn" aria-label="Previous project"><svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
        <div id="dots" aria-hidden="false" style="display:flex;gap:8px;align-items:center"></div>
        <button class="mobile-arrow" id="nextBtn" aria-label="Next project"><svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
      </div>
    </div>

    <!-- Desktop marquee remains (hidden visually on small screens via CSS) -->
    <div class="projects-viewport" id="projectsViewport" style="display:block;">
      <div class="projects-track" id="projectsTrack" role="list" aria-label="Projects deck">
        <!-- project cards injected by JS -->
      </div>
    </div>
  </section>

  <!-- template -->
  <template id="project-card-template">
    <a class="project-card" target="_blank" rel="noopener">
      <h3></h3>
      <small></small>
      <p></p>
    </a>
  </template>

  
  <!-- CONNECT -->
  <section id="connect" class="fade-up" aria-labelledby="connect-title">
    <h2 id="connect-title">Connect With Me</h2>
    <div class="connect-links" role="group" aria-label="Contact links">
      <a class="connect-item glass" href="mailto:vishwakumarv05@gmail.com" aria-label="Email">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="#EA4335" d="M12 13.065L1.2 6.3A2.4 2.4 0 013.6 4.8h16.8a2.4 2.4 0 012.4 1.5L12 13.065z"/><path fill="#D93025" d="M3.6 19.2h16.8a2.4 2.4 0 002.4-2.4V7.44L12 14.08 1.2 7.44V16.8a2.4 2.4 0 002.4 2.4z"/></svg>
        <span>vishwakumarv05@gmail.com</span>
      </a>

      <a class="connect-item glass" href="https://www.linkedin.com/in/vishwakumarv/" target="_blank" aria-label="LinkedIn">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="#0A66C2" d="M20.447 20.452h-3.554v-5.569c0-1.328-.026-3.038-1.852-3.038-1.853 0-2.136 1.445-2.136 2.939v5.668H9.353V8.998h3.414v1.556h.049c.476-.9 1.635-1.85 3.365-1.85 3.6 0 4.268 2.37 4.268 5.456v6.292zM5.337 7.433a2.062 2.062 0 11-.001-4.125 2.062 2.062 0 01.001 4.125zM7.118 20.452H3.557V8.998h3.561v11.454zM22.225 0H1.771C.791 0 0 .774 0 1.729v20.542C0 23.226.792 24 1.771 24h20.451C23.206 24 24 23.226 24 22.271V1.729C24 .774 23.206 0 22.225 0z"/></svg>
        <span>linkedin.com/in/vishwakumarv</span>
      </a>

      <a class="connect-item glass" href="https://github.com/vkumxr" target="_blank" aria-label="GitHub">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path fill="currentColor" d="M12 .296a12 12 0 00-3.797 23.402c.6.111.82-.26.82-.577 0-.285-.011-1.041-.017-2.042-3.338.725-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.757-1.333-1.757-1.09-.745.082-.73.082-.73 1.205.085 1.84 1.237 1.84 1.237 1.07 1.834 2.809 1.304 3.495.997.108-.775.419-1.305.762-1.605-2.665-.303-5.466-1.332-5.466-5.93 0-1.31.468-2.381 1.236-3.221-.124-.303-.536-1.523.117-3.176 0 0 1.008-.322 3.301 1.23a11.5 11.5 0 016.004 0c2.292-1.552 3.299-1.23 3.299-1.23.655 1.653.243 2.873.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.61-2.803 5.624-5.475 5.92.43.372.815 1.102.815 2.222 0 1.605-.015 2.898-.015 3.293 0 .32.218.694.825.576A12 12 0 0012 .296z"/></svg>
        <span>github.com/vkumxr</span>
      </a>
    </div>
  </section>

  <footer>©️ 2025 Vishwa Kumar</footer>
</div>

<!-- project script (same as original) + mobile deck logic -->
<script>
const PROJECTS = [
  { title:"PuBOT (Portable Ultra Robot) — WIP", date:"Aug 2025 — Present", desc:"Modular Raspberry Pi robot with conversational AI, sensors & autonomous navigation.", href:"https://github.com/vkumxr/PuBOT---Portable-Ultra-Robot" },
  { title:"IntelliBank AI", date:"Jun 2025 — Aug 2025", desc:"Conversational banking assistant built using Spring Boot + REST APIs.", href:"https://github.com/vkumxr/IntelliBank-AI-banking-assistant-java" },
  { title:"Fruit-Cutter (Scratch)", date:"Jun 2025 — Jul 2025", desc:"Fruit-Ninja inspired game built in Scratch.", href:"https://scratch.mit.edu/projects/1196631184/" }
];
(function buildCards(){
  const track = document.getElementById('projectsTrack');
  const tpl = document.getElementById('project-card-template');
  function createCard(p, duplicate=false){
    const node = tpl.content.firstElementChild.cloneNode(true);
    node.querySelector('h3').textContent = p.title;
    node.querySelector('small').textContent = p.date;
    node.querySelector('p').textContent = p.desc;
    node.href = p.href;
    if (duplicate) node.setAttribute('aria-hidden','true');
    return node;
  }
  for (const p of PROJECTS) track.appendChild(createCard(p,false));
  for (const p of PROJECTS) track.appendChild(createCard(p,true));
})();

// MOBILE DECK: build slides, add swipe handling, dots & arrows
(function(){
  const mobileDeck = document.getElementById('mobileDeck');
  const track = document.getElementById('mobileTrack');
  const dotsWrap = document.getElementById('dots');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  let index = 0;
  let startX = 0, currentX = 0, isDown = false;

  // build slides
  function makeSlide(p){
    const slide = document.createElement('div'); slide.className = 'slide';
    const a = document.createElement('a'); a.className = 'project-card'; a.target = '_blank'; a.rel = 'noopener'; a.href = p.href;
    const h = document.createElement('h3'); h.textContent = p.title; const s = document.createElement('small'); s.textContent = p.date; const para = document.createElement('p'); para.textContent = p.desc;
    a.appendChild(h); a.appendChild(s); a.appendChild(para);
    slide.appendChild(a);
    return slide;
  }
  PROJECTS.forEach((p,i)=>{
    track.appendChild(makeSlide(p));
    const dot = document.createElement('button'); dot.className = 'mobile-dot'; dot.setAttribute('aria-label','Go to slide '+(i+1)); dot.dataset.index = i;
    dot.addEventListener('click', ()=>{ goTo(+dot.dataset.index); });
    dotsWrap.appendChild(dot);
  });

  function update(){
    track.style.transform = `translateX(${ -index * 100 }%)`;
    Array.from(dotsWrap.children).forEach((d,i)=> d.classList.toggle('active', i===index));
  }
  function goTo(i){ index = Math.max(0, Math.min(PROJECTS.length-1, i)); update(); }
  prevBtn.addEventListener('click', ()=> goTo(index-1));
  nextBtn.addEventListener('click', ()=> goTo(index+1));

  // touch / pointer support
  const vp = document.getElementById('mobileViewport');
  vp.addEventListener('pointerdown', (e)=>{
    isDown = true; startX = e.clientX; vp.setPointerCapture(e.pointerId);
    vp.style.touchAction = 'pan-y';
  });
  vp.addEventListener('pointermove', (e)=>{
    if(!isDown) return; currentX = e.clientX; const dx = currentX - startX; track.style.transition = 'none'; track.style.transform = `translateX(${ -index*100 + (dx / vp.clientWidth)*100 }%)`;
  });
  vp.addEventListener('pointerup', (e)=>{
    if(!isDown) return; isDown = false; track.style.transition = ''; const dx = e.clientX - startX; if(Math.abs(dx) > vp.clientWidth*0.18){ if(dx < 0) goTo(index+1); else goTo(index-1); } else update();
  });
  // mouse leave/cancel
  vp.addEventListener('pointercancel', ()=>{ isDown=false; update(); });

  // keyboard accessibility
  vp.tabIndex = 0; vp.addEventListener('keydown', (e)=>{ if(e.key === 'ArrowLeft') goTo(index-1); if(e.key === 'ArrowRight') goTo(index+1); });

  // initialize
  update();

  // hide mobile deck on wide screens (keeps DOM but hidden via CSS). Also pause desktop marquee for narrow screens.
  function adapt(){
    const isMobile = window.matchMedia('(max-width:768px)').matches;
    const desktopTrack = document.getElementById('projectsTrack');
    if(isMobile){ mobileDeck.style.display = 'block'; if(desktopTrack) desktopTrack.parentElement.style.display = 'none'; }
    else { mobileDeck.style.display = 'none'; if(desktopTrack) desktopTrack.parentElement.style.display = 'block'; }
  }
  adapt(); window.addEventListener('resize', adapt);
})();

// existing observers, marquee, theme toggle, mobile deck left intact (no changes)
(function(){
  const io = new IntersectionObserver((entries)=>{ entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target); } }); }, {threshold: 0.18});
  document.querySelectorAll('.fade-up').forEach(el=>io.observe(el));
})();
(function(){ const track = document.getElementById('projectsTrack'); const viewport = track.parentElement; viewport.addEventListener('mouseenter', ()=> track.classList.add('paused')); viewport.addEventListener('mouseleave', ()=> track.classList.remove('paused')) })();
(function(){ if(localStorage.getItem('theme') === 'dark'){ document.documentElement.classList.remove('light'); } const btn = document.getElementById('themeToggle'); btn.addEventListener('click', ()=>{ const isLight = document.documentElement.classList.toggle('light'); localStorage.setItem('theme', isLight ? 'light' : 'dark'); }); })();
</script>
</body>
</html>

